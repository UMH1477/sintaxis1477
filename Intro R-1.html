<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Intro R-1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Intro R-1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Intro R-1_files/libs/quarto-html/quarto.js"></script>
<script src="Intro R-1_files/libs/quarto-html/popper.min.js"></script>
<script src="Intro R-1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Intro R-1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Intro R-1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Intro R-1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Intro R-1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Intro R-1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Intro R-1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Intro R-1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.4.0      ✔ purrr   1.0.0 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.5.0 
✔ readr   2.1.3      ✔ forcats 0.5.2 
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
</div>
<section id="configuración-lectura-y-escritura" class="level2">
<h2 class="anchored" data-anchor-id="configuración-lectura-y-escritura">Configuración, lectura y escritura</h2>
<ol type="1">
<li>Identifica cuál es tu espacio de trabajo actual.</li>
<li>Especifica cuál quieres que sea tu espacio de trabajo en esta sesión, con comando y desde <code>RStudio&gt;Ajustes&gt;Set as working directory</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/asunmayoral/Dropbox/ESTADISTICA/SIMPROSIST/clases_1477/sintaxis1477"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"~/Dropbox/ESTADISTICA/SIMPROSIST/clases_1477"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Borra todos los elementos en el espacio de trabajo.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Solicita ayuda sobre funciones relacionadas con la lectura de ficheros (clave: “read”). Solicita ayuda sobre la función <code>read.csv</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help.search</span>(<span class="st">"read"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>??read</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>?read.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Carga un fichero de datos .csv de <a href="https://github.com/UMH1477/data1477">Github</a>: <a href="https://raw.githubusercontent.com/UMH1477/data1477/main/coches.csv">cars</a>. Este enlace se obtiene a partir del formato <code>raw</code>. Verifica qué objetos tienes en el entorno de sesión con <code>ls()</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>cars<span class="ot">=</span><span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/UMH1477/data1477/main/coches.csv"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3 V4 V5
1  c  s sw  s  s
2  s sw sw sw  s
3  s sw sw sw  s
4  s  s  s  c  c
5  s sw  s sw  s
6  s sw sw sw  s</code></pre>
</div>
</div>
<ol type="1">
<li>Importa a tu directorio de trabajo los datos en la url “https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data”, del <a href="https://archive.ics.uci.edu/">UCI Machine Learning Repository</a>, utilizando <code>download.file</code>. Recuerda que en ocasiones hay que utilizar el argumento <code>method=wb</code> para que funcione correctamente. Léelo a continuación en tu sesión y verifica que se carga correctamente.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data"</span>, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">destfile =</span> <span class="st">"iris.data"</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>iris<span class="ot">=</span><span class="fu">read.csv</span>(<span class="st">"iris.data"</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X5.1 X3.5 X1.4 X0.2 Iris.setosa
1  4.9  3.0  1.4  0.2 Iris-setosa
2  4.7  3.2  1.3  0.2 Iris-setosa
3  4.6  3.1  1.5  0.2 Iris-setosa
4  5.0  3.6  1.4  0.2 Iris-setosa
5  5.4  3.9  1.7  0.4 Iris-setosa
6  4.6  3.4  1.4  0.3 Iris-setosa</code></pre>
</div>
</div>
<ol type="1">
<li>Carga un fichero de código .r con funciones, de <a href="https://github.com/UMH1477/data1477">Github</a>: <a href="https://raw.githubusercontent.com/UMH1477/data1477/main/chuletario.R">chuletario</a>. Verifica qué objetos tienes en el entorno de sesión.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"https://raw.githubusercontent.com/UMH1477/data1477/main/chuletario.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'gridExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    combine</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kableExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Package:  markovchain
Version:  0.9.0
Date:     2022-07-01
BugReport: https://github.com/spedygiorgio/markovchain/issues</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'simmer'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    select</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:tidyr':

    separate</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'simmer.plot'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:simmer':

    get_mon_arrivals, get_mon_attributes, get_mon_resources</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "cars"                     "cola.MM1"                
 [3] "cola.MM1K"                "cola.MMs"                
 [5] "cola.MMsK"                "distr.lim.general"       
 [7] "distr.lim.nm"             "estados"                 
 [9] "idioma1"                  "iris"                    
[11] "matriz.prob.trans"        "mocupa.proceso"          
[13] "nsim"                     "p1.matrix"               
[15] "ptran.n"                  "simula.pp.adelgazamiento"
[17] "simula.pp.superposicion"  "texto1"                  
[19] "tiempo.pp"                "tiempos.ocupacion"       
[21] "tiempos.primer.paso"     </code></pre>
</div>
</div>
<ol type="1">
<li>Escribe a un fichero ‘.csv’ en tu espacio de trabajo los datos ‘cars’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(cars,<span class="at">file=</span><span class="st">"cars.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Lee desde tu espacio de trabajo el fichero ‘cars.csv’. Llámalo cars2 y visualízalo.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>cars2<span class="ot">=</span><span class="fu">read.csv</span>(<span class="st">"cars.csv"</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cars2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X V1 V2 V3 V4 V5
1 1  c  s sw  s  s
2 2  s sw sw sw  s
3 3  s sw sw sw  s
4 4  s  s  s  c  c
5 5  s sw  s sw  s
6 6  s sw sw sw  s</code></pre>
</div>
</div>
<ol type="1">
<li>Con todos los objetos en el entorno de sesión, crea un fichero ‘.RData’ y guárdalo en tu espacio de trabajo. Llámalo “trastero.RData”.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save.image</span>(<span class="at">file=</span><span class="st">"trastero.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Borra todos los objetos en el entorno de sesión y verifica que queda vacío. A continuación carga el archivo ‘trastero.RData’ y verifica qué objetos tienes en el entorno de sesión.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"trastero.RData"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "cars"                     "cars2"                   
 [3] "cola.MM1"                 "cola.MM1K"               
 [5] "cola.MMs"                 "cola.MMsK"               
 [7] "distr.lim.general"        "distr.lim.nm"            
 [9] "estados"                  "idioma1"                 
[11] "iris"                     "matriz.prob.trans"       
[13] "mocupa.proceso"           "nsim"                    
[15] "p1.matrix"                "ptran.n"                 
[17] "simula.pp.adelgazamiento" "simula.pp.superposicion" 
[19] "texto1"                   "tiempo.pp"               
[21] "tiempos.ocupacion"        "tiempos.primer.paso"     </code></pre>
</div>
</div>
<ol type="1">
<li>Guarda ahora únicamente el objeto <code>cars</code> y guárdalo en un fichero de datos de R, ‘cars.RData’. Vuelve a borrar todos los objetos del entorno de trabajo. Realiza la carga del fichero ‘.RData’ y verifica que se ha leído correctamente. Los ficheros ‘.RData’ son muy útiles para almacenar en formato de R todo tipo de elementos.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(cars,<span class="at">file=</span><span class="st">"cars.RData"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"cars.RData"</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cars"</code></pre>
</div>
</div>
<ol type="1">
<li>Carga el fichero de datos <code>Loblolly</code> en la librería preinstalada en R <code>datasets</code>. Visualiza las primeras filas.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(Loblolly)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Loblolly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   height age Seed
1    4.51   3  301
15  10.89   5  301
29  28.72  10  301
43  41.74  15  301
57  52.70  20  301
71  60.92  25  301</code></pre>
</div>
</div>
<ol type="1">
<li>Carga el fichero de datos <code>mydata</code>, definido dentro de la librería de R <code>openair</code>. Visualiza las primeras filas. Tienes más información en su <a href="https://cran.r-project.org/web/packages/openair/readme/README.html">web</a>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("openair")</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openair)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mydata)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mydata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 10
  date                   ws    wd   nox   no2    o3  pm10   so2    co  pm25
  &lt;dttm&gt;              &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
1 1998-01-01 00:00:00  0.6    280   285    39     1    29  4.72  3.37    NA
2 1998-01-01 01:00:00  2.16   230    NA    NA    NA    37 NA    NA       NA
3 1998-01-01 02:00:00  2.76   190    NA    NA     3    34  6.83  9.60    NA
4 1998-01-01 03:00:00  2.16   170   493    52     3    35  7.66 10.2     NA
5 1998-01-01 04:00:00  2.4    180   468    78     2    34  8.07  8.91    NA
6 1998-01-01 05:00:00  3      190   264    42     0    16  5.50  3.05    NA</code></pre>
</div>
</div>
</section>
<section id="tipos-de-datos-y-objetos" class="level2">
<h2 class="anchored" data-anchor-id="tipos-de-datos-y-objetos">Tipos de datos y objetos</h2>
<p>En R existen 6 tipos de datos básicos: lógicos (<code>logical</code>), entero (<code>integer</code>), numérico (<code>numeric</code>), carácter (<code>character</code>), complejo (<code>complex</code>) y valores en bytes (<code>raw</code>). Para conocer el tipo basta utilizar la función <code>class()</code>.</p>
<p>Los tipos de objetos disponibles en R son:</p>
<p>Vectores | diversos | c() |<br>
Factores | cualitativos | factor(), gl()|<br>
Listas | elementos diversos | list()|<br>
Matrices | numéricos | matrix(ncol=,nrow=);array(dim=) |<br>
Bases de datos | columnas diversas | data.frame() |<br>
Bases de datos enriquecidas | tidyverse | tibble() |</p>
<p>Para inspeccionar el tipo de objetos en R se utiliza <code>typeof()</code> y <code>mode()</code>. Para inspeccionar sus atributos (elementos que lo componen) se usa <code>attributes()</code>.</p>
<section id="asignación" class="level3">
<h3 class="anchored" data-anchor-id="asignación">Asignación</h3>
<ol type="1">
<li>Crea tres variables x, y, z, y asígnales los valores, 5,6,3 respectivamente. La asignación en R se realiza con los símbolos <code>=</code>, <code>&lt;-</code> y <code>assign()</code>. Visualízalos a continuación.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">5</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>y<span class="ot">&lt;-</span><span class="dv">6</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">assign</span>(<span class="st">"z"</span>,<span class="dv">3</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cars"     "Loblolly" "mydata"   "x"        "y"        "z"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>y;z <span class="co"># dos ejecuciones en una misma línea</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
<section id="caracteres" class="level3">
<h3 class="anchored" data-anchor-id="caracteres">Caracteres</h3>
<ol type="1">
<li>Crea un objeto llamado ‘nombre’ en el que guardes tu nombre de pila.</li>
<li>Crea un objeto llamado ‘apellido’ en el que guardes tu primer apellido.</li>
<li>Concatena nombre y apellido para tener tu nombre completo, separado por un espacio. Guárdalo en un objeto llamado ‘nombre_completo’. Visualízalo, como cadena de caracteres y formateado sin comillas.</li>
<li>Vuelca a continuación en un fichero llamado “nombre.txt” el siguiente mensaje: “Mi nombre es —-” (—- ha de contener tu nombre_completo), seguido de un salto de línea. Abre el fichero y verifica que se volcó bien.</li>
<li>Ahora concatena nombre y apellido sin separar con un espacio y añádelo al fichero anterior.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>nombre <span class="ot">=</span> <span class="st">"Asun"</span>; nombre</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Asun"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>apellido <span class="ot">=</span> <span class="st">"Martínez"</span>; apellido</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Martínez"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>nombre_completo <span class="ot">=</span> <span class="fu">paste</span>(nombre,apellido) </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>nombre_completo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Asun Martínez"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(nombre_completo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Asun Martínez"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(nombre_completo,<span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Asun Martínez</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"Mi nombre es"</span>,nombre_completo),<span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,<span class="at">file=</span><span class="st">"nombre.txt"</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(nombre,apellido),<span class="at">file=</span><span class="st">"nombre.txt"</span>,<span class="at">append=</span><span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="vectores" class="level3">
<h3 class="anchored" data-anchor-id="vectores">Vectores</h3>
<ol type="1">
<li>Crea un vector en el que el primer elemento sea tu nombre y el segundo tu apellido.</li>
<li>Crea una variable con tu edad. Llámala x. Verifica su clase.</li>
<li>Transforma ‘x’ a carácter (con <code>as.</code>) y comprueba que ha cambiado (con <code>is.</code>).</li>
<li>Crea un vector v1 con las edades de los miembros de tu familia.</li>
<li>Crea un vector v2 con la secuencia del 1 al 10.</li>
<li>Crea un vector v3 con una secuencia del 5 al 100 a intervalos de 10.</li>
<li>Crea un vector v4 con una secuencia del 2 al 200 y de longitud 10.</li>
<li>Calcula la longitud del vector v3.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(nombre,apellido)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Asun"     "Martínez"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">52</span>; <span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>x_car<span class="ot">=</span><span class="fu">as.character</span>(x); <span class="fu">is.character</span>(x_car)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">52</span>,<span class="dv">52</span>,<span class="dv">22</span>,<span class="dv">19</span>,<span class="dv">14</span>);v1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 52 22 19 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>;v2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">5</span>,<span class="dv">100</span>,<span class="at">by=</span><span class="dv">10</span>);v3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  5 15 25 35 45 55 65 75 85 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>v4 <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">2</span>,<span class="dv">200</span>,<span class="at">length=</span><span class="dv">10</span>);v4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   2  24  46  68  90 112 134 156 178 200</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
</section>
<section id="factores" class="level3">
<h3 class="anchored" data-anchor-id="factores">Factores</h3>
<ol type="1">
<li>Crea un factor con ‘gl’, con 4 categorías y 3 repeticiones para cada una de ellas. Asigna etiquetas con las letras del alfabeto. Llámalo f1 y verifica la secuenciación que resulta.</li>
<li>Consulta las categorías de f1.</li>
<li>Crea ahora el factor f2 con 4 categorías y 3 repeticiones de cada una de ellas, pero de modo que estén secuenciadas como ‘abcdabcdabcd’.</li>
<li>Categoriza el vector v3 en dos categorías: “a” para los elementos menores o iguales a 50 y “b” para los elementos mayores a 50. Llámalo f3.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">=</span> <span class="fu">gl</span>(<span class="dv">4</span>,<span class="dv">3</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>,<span class="st">"d"</span>));f1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] a a a b b b c c c d d d
Levels: a b c d</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(f1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b" "c" "d"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>f2<span class="ot">=</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>,<span class="st">"d"</span>),<span class="dv">3</span>));f2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] a b c d a b c d a b c d
Levels: a b c d</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>f3<span class="ot">=</span><span class="fu">cut</span>(v2,<span class="at">breaks=</span><span class="fu">c</span>(<span class="fu">min</span>(v2),<span class="dv">50</span>,<span class="fu">max</span>(v3)),<span class="at">include.lowest=</span><span class="cn">TRUE</span>, <span class="at">right=</span><span class="cn">TRUE</span>);f3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] [1,50] [1,50] [1,50] [1,50] [1,50] [1,50] [1,50] [1,50] [1,50] [1,50]
Levels: [1,50] (50,95]</code></pre>
</div>
</div>
</section>
<section id="listas" class="level3">
<h3 class="anchored" data-anchor-id="listas">Listas</h3>
<ol type="1">
<li>Crea una lista que contenga como elementos v=v1 y f=f1. Llámalo l1.</li>
<li>Calcula la dimensión de la lista l1.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>l1<span class="ot">=</span><span class="fu">list</span>(<span class="at">v=</span>v1,<span class="at">f=</span>f1);l1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$v
[1] 52 52 22 19 14

$f
 [1] a a a b b b c c c d d d
Levels: a b c d</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>l1<span class="sc">$</span>v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 52 22 19 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>l1<span class="sc">$</span>f</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] a a a b b b c c c d d d
Levels: a b c d</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(l1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</section>
<section id="matrices" class="level3">
<h3 class="anchored" data-anchor-id="matrices">Matrices</h3>
<ol type="1">
<li>Crea una matriz diagonal con los elementos del vector v1. Llámala V.</li>
<li>Convierte el vector v3 en una matriz X de dimensiones 2x5. Introduce los elementos por columnas.</li>
<li>Convierte el vector v3 en una matriz Y de dimensiones 2x5. Introduce los elementos por filas.</li>
<li>Transpón la matriz X y calcula su dimensión. Llámala Z. Calcula también directamente el número de filas y de columnas.</li>
<li>Añade una columna a la matriz Z con la secuencia de números del 1 al número de filas. Llámala también Z.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>V<span class="ot">=</span><span class="fu">diag</span>(v1);V</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]   52    0    0    0    0
[2,]    0   52    0    0    0
[3,]    0    0   22    0    0
[4,]    0    0    0   19    0
[5,]    0    0    0    0   14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">matrix</span>(v3,<span class="at">ncol=</span><span class="dv">5</span>,<span class="at">nrow=</span><span class="dv">2</span>);X</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    5   25   45   65   85
[2,]   15   35   55   75   95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">=</span> <span class="fu">matrix</span>(v3,<span class="at">byrow=</span><span class="cn">TRUE</span>,<span class="at">ncol=</span><span class="dv">5</span>,<span class="at">nrow=</span><span class="dv">2</span>);Y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    5   15   25   35   45
[2,]   55   65   75   85   95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>Z<span class="ot">=</span><span class="fu">t</span>(X);<span class="fu">dim</span>(Z);<span class="fu">nrow</span>(Z);<span class="fu">ncol</span>(Z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>Z <span class="ot">=</span> <span class="fu">cbind</span>(Z,<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(Z)); Z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    5   15    1
[2,]   25   35    2
[3,]   45   55    3
[4,]   65   75    4
[5,]   85   95    5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>ZZ<span class="ot">=</span><span class="fu">rbind</span>(Z,<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(Z));ZZ</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    5   15    1
[2,]   25   35    2
[3,]   45   55    3
[4,]   65   75    4
[5,]   85   95    5
[6,]    1    2    3</code></pre>
</div>
</div>
<ol type="1">
<li>Crea un array llamado ‘ar’ de dimensión 3, útil por ejemplo, para ubicar información de un gráfico tridimensional. Dimensión x: 2, dimensión y:2, dimension z:1. Visualízalo</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>ar<span class="ot">=</span><span class="fu">array</span>(<span class="at">dim=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>ar[,,<span class="dv">1</span>]<span class="ot">=</span><span class="dv">2</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>ar</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, , 1

     [,1] [,2]
[1,]    2    4
[2,]    3    5

, , 2

     [,1] [,2]
[1,]   NA   NA
[2,]   NA   NA</code></pre>
</div>
</div>
</section>
<section id="data.frame-y-tibble" class="level3">
<h3 class="anchored" data-anchor-id="data.frame-y-tibble">data.frame y tibble</h3>
<ol type="1">
<li>Convierte a data frame la nueva matriz Z y añade una columna con la secuencia del alfabeto desde la ‘a’ hasta el número de filas. Llámala Z_df.</li>
<li>Asigna nombres a las columnas: V1, V2, …</li>
<li>Crea una nueva columna en Z_df llamada V4 e introduce valores faltantes.</li>
<li>Cuenta cuántos valores faltantes tienes en el data frame Z_df.</li>
<li>Crea una nueva fila e introduce valores 0.</li>
<li>Transforma en tibble el data frame Z_df. Llámalo Z_t.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>Z_df <span class="ot">=</span> <span class="fu">data.frame</span>(Z);Z_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X1 X2 X3
1  5 15  1
2 25 35  2
3 45 55  3
4 65 75  4
5 85 95  5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(Z_df)<span class="ot">=</span><span class="fu">paste0</span>(<span class="st">"V"</span>,<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(Z_df)); Z_df; <span class="fu">dimnames</span>(Z_df)[[<span class="dv">2</span>]];<span class="fu">colnames</span>(Z_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3
1  5 15  1
2 25 35  2
3 45 55  3
4 65 75  4
5 85 95  5</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "V1" "V2" "V3"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "V1" "V2" "V3"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>Z_df<span class="sc">$</span>V4<span class="ot">=</span><span class="cn">NaN</span>; Z_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3  V4
1  5 15  1 NaN
2 25 35  2 NaN
3 45 55  3 NaN
4 65 75  4 NaN
5 85 95  5 NaN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(Z_df)); <span class="fu">which</span>(<span class="fu">is.na</span>(Z_df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16 17 18 19 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>Z_df<span class="ot">=</span><span class="fu">rbind</span>(Z_df,<span class="dv">0</span>); Z_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3  V4
1  5 15  1 NaN
2 25 35  2 NaN
3 45 55  3 NaN
4 65 75  4 NaN
5 85 95  5 NaN
6  0  0  0   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>Z_t<span class="ot">=</span><span class="fu">tibble</span>(Z_df);Z_t; <span class="fu">as.tibble</span>(Z_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
     V1    V2    V3    V4
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     5    15     1   NaN
2    25    35     2   NaN
3    45    55     3   NaN
4    65    75     4   NaN
5    85    95     5   NaN
6     0     0     0     0</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `as.tibble()` was deprecated in tibble 2.0.0.
ℹ Please use `as_tibble()` instead.
ℹ The signature and semantics have changed, see `?as_tibble`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
     V1    V2    V3    V4
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     5    15     1   NaN
2    25    35     2   NaN
3    45    55     3   NaN
4    65    75     4   NaN
5    85    95     5   NaN
6     0     0     0     0</code></pre>
</div>
</div>
<ol type="1">
<li>Verifica que <code>Loblolly</code> es un data.frame.</li>
<li>Verifica que <code>mydata</code> es un tibble.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(Loblolly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "nfnGroupedData" "nfGroupedData"  "groupedData"    "data.frame"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(Loblolly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mydata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is_tibble</span>(mydata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(mydata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
</section>
<section id="selección-y-operadores-lógicos" class="level2">
<h2 class="anchored" data-anchor-id="selección-y-operadores-lógicos">Selección y operadores lógicos</h2>
<section id="vectores-1" class="level3">
<h3 class="anchored" data-anchor-id="vectores-1">Vectores</h3>
<ol type="1">
<li>Selecciona el elemento 2 del vector v1.</li>
<li>Elimina el elemento 2 del vector v1.</li>
<li>Calcula si elemento 2 del vector v1 es mayor que el elemento 5 del vector v2.</li>
<li>Selecciona los elementos del vector v3 que son mayores a 50.</li>
<li>Selecciona los elementos del vector v3 que son iguales a 55.</li>
<li>Selecciona los elementos del vector v3 que NO son iguales a 55.</li>
<li>Identifica los índices de los elementos del vector v3 que son mayores a 50. Asígnalos a un vector llamado v3_50 y utilízalo para seleccionar esos elementos en el vector v3.</li>
<li>Identifica qué posición ocupa el menor elemento de v1. Obtén el valor.</li>
<li>Identifica qué posición ocupa el mayor elemento de v1. Obtén el valor.</li>
<li>Selecciona los elementos del vector v3 que son mayores a 20 y menores a 80.</li>
<li>Selecciona los elementos del vector v3 que son menores a 20 o mayores a 80.</li>
<li>Selecciona una muestra al azar (SIN reemplazamiento) del vector v3 con 3 elementos.</li>
<li>Identifica qué posición ocupan los elementos del vector v3 que coinciden con alguno de c(5,35,75).</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>v1[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52</code></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>v1[<span class="sc">-</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 22 19 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>v1[<span class="dv">2</span>]<span class="sc">&gt;</span>v2[<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>v3[v3<span class="sc">&gt;</span><span class="dv">50</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55 65 75 85 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>v3[v3<span class="sc">==</span><span class="dv">55</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55</code></pre>
</div>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>v3[v3<span class="sc">!=</span><span class="dv">55</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5 15 25 35 45 65 75 85 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>v3_50 <span class="ot">=</span> <span class="fu">which</span>(v3<span class="sc">&gt;</span><span class="dv">50</span>) ; v3_50; v3[v3_50]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  6  7  8  9 10</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55 65 75 85 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(v1); v1[<span class="fu">which.min</span>(v1)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(v1); v1[<span class="fu">which.max</span>(v1)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52</code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>v3[v3<span class="sc">&gt;</span><span class="dv">20</span> <span class="sc">&amp;</span> v3<span class="sc">&lt;</span><span class="dv">80</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25 35 45 55 65 75</code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>v3[v3<span class="sc">&lt;</span><span class="dv">20</span> <span class="sc">|</span> v3<span class="sc">&gt;</span><span class="dv">80</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5 15 85 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(v3,<span class="dv">3</span>,<span class="at">replace=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 75 55 85</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(v3 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">35</span>,<span class="dv">75</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 4 8</code></pre>
</div>
</div>
</section>
<section id="listas-matrices-y-data.frame" class="level3">
<h3 class="anchored" data-anchor-id="listas-matrices-y-data.frame">Listas, matrices y data.frame</h3>
<ol type="1">
<li>Selecciona el primer elemento de la lista l1.</li>
<li>Excluye el segundo elemento de la lista l1.</li>
<li>Calcula la dimensión de cada uno de los elementos de la lista l1.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>l1[[<span class="dv">1</span>]]; l1<span class="sc">$</span>v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 52 22 19 14</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 52 22 19 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>l1[[<span class="sc">-</span><span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 52 22 19 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(l1<span class="sc">$</span>v); <span class="fu">length</span>(l1<span class="sc">$</span>f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
<ol type="1">
<li>Selecciona el elemento en la fila 1 y la columna 3 de la matriz X.</li>
<li>Calcula con un operador lógico si el elemento en la fila 1 y la columna 3 es mayor que el de la fila 2 y la columna 1 en la matriz Y.</li>
<li>Selecciona la columna 2 de la matriz Z.</li>
<li>Elimina la fila 2 y la columna 3.</li>
<li>Selecciona los dos primeros elementos de la fila 3 de la matriz Z.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>X[<span class="dv">1</span>,<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45</code></pre>
</div>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>X[<span class="dv">1</span>,<span class="dv">3</span>]<span class="sc">&gt;</span>Y[<span class="dv">2</span>,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>Z[,<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 35 55 75 95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>Z[<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    5   15
[2,]   45   55
[3,]   65   75
[4,]   85   95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>Z[<span class="dv">3</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45 55</code></pre>
</div>
</div>
<ol type="1">
<li>Selecciona la columna 2 del data frame Z_df, tanto por su indicador como por su nombre.</li>
<li>Sustituye los registros 2, 4 y 5 de la columna V4 en Z_df por los valores 10, 20 y 30 respectivamente. Guárdalo en un nuevo data.frame llamado Z_f.&nbsp;Muestra el resultado.</li>
<li>Elimina las filas que tengan valores faltantes en la columna V4.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>Z_df[,<span class="dv">2</span>];Z_df<span class="sc">$</span>V2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 35 55 75 95  0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 35 55 75 95  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>Z_df[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>),<span class="dv">4</span>] <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>); Z_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3  V4
1  5 15  1 NaN
2 25 35  2  10
3 45 55  3 NaN
4 65 75  4  20
5 85 95  5  30
6  0  0  0   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>Z_f <span class="ot">=</span> Z_df[<span class="sc">!</span><span class="fu">is.na</span>(Z_df<span class="sc">$</span>V4),];Z_f</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3 V4
2 25 35  2 10
4 65 75  4 20
5 85 95  5 30
6  0  0  0  0</code></pre>
</div>
</div>
</section>
<section id="tibbles" class="level3">
<h3 class="anchored" data-anchor-id="tibbles">Tibbles</h3>
<ol type="1">
<li>Con el tibble <code>mydata</code>, selecciona las columnas <code>ws</code>, <code>wd</code> y <code>nox</code>. Al nuevo tibble seleccionado, llámalo <code>mydata_sel</code> y visualiza las primeras filas.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>cols<span class="ot">=</span><span class="fu">c</span>(<span class="st">"ws"</span>,<span class="st">"wd"</span>,<span class="st">"nox"</span>)</span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>mydata_sel <span class="ot">=</span> mydata[cols]</span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mydata_sel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
     ws    wd   nox
  &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
1  0.6    280   285
2  2.16   230    NA
3  2.76   190    NA
4  2.16   170   493
5  2.4    180   468
6  3      190   264</code></pre>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selección por número de columna</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mydata[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
     ws    wd   nox
  &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
1  0.6    280   285
2  2.16   230    NA
3  2.76   190    NA
4  2.16   170   493
5  2.4    180   468
6  3      190   264</code></pre>
</div>
</div>
<ol type="1">
<li>Define un data frame a partir de las columnas <code>ws</code>, <code>wd</code> y <code>nox</code>, en el tibble <code>mydata</code>, y llámalo <code>mydata_df</code>. Calcula el valor medio de cada una de las columnas. Verifica que es un data.frame.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>cols<span class="ot">=</span><span class="fu">c</span>(<span class="st">"ws"</span>,<span class="st">"wd"</span>,<span class="st">"nox"</span>)</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>mydata_df <span class="ot">=</span> <span class="fu">as.data.frame</span>(mydata[cols])</span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(mydata_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
</section>
<section id="álgebra" class="level2">
<h2 class="anchored" data-anchor-id="álgebra">Álgebra</h2>
<section id="vectores-2" class="level3">
<h3 class="anchored" data-anchor-id="vectores-2">Vectores</h3>
<ol type="1">
<li>Calcula el máximo valor de v1.</li>
<li>Calcula el mínimo valor de v1.</li>
<li>Ordena de menor a mayor el vector v1.</li>
<li>Ordena de mayor a menor el vector v1.</li>
<li>Identifica los elementos del vector v1 que son divisibles por 2. Muéstralos.</li>
<li>Multiplica el vector v2 por 2.</li>
<li>Calcula la suma de v2 y v3.</li>
<li>Calcula el producto de los elementos de v2 y v3.</li>
<li>Calcula el producto interno de v2 y v3.</li>
<li>Si x1=c(1,2,3) y x2=c(2,3,4) son dos puntos en <span class="math inline">\(R^3\)</span>, calcula la distancia entre ellos.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(v1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52</code></pre>
</div>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(v1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(v1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14 19 22 52 52</code></pre>
</div>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(v1,<span class="at">decreasing=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 52 22 19 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>pares<span class="ot">=</span>(v1<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">0</span>); v1[pares]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52 52 22 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>v2<span class="sc">*</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  2  4  6  8 10 12 14 16 18 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a>v2<span class="sc">+</span>v3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   6  17  28  39  50  61  72  83  94 105</code></pre>
</div>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>v2<span class="sc">*</span>v3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   5  30  75 140 225 330 455 600 765 950</code></pre>
</div>
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a>v2<span class="sc">%*%</span>v3;<span class="fu">sum</span>(v2<span class="sc">*</span>v3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]
[1,] 3575</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3575</code></pre>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>x1<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) ; x2<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>); (x1<span class="sc">-</span>x2)<span class="sc">%*%</span>(x1<span class="sc">-</span>x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]
[1,]    3</code></pre>
</div>
</div>
</section>
<section id="matrices-1" class="level3">
<h3 class="anchored" data-anchor-id="matrices-1">Matrices</h3>
<p>Considera las matrices A y B definidas por:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>A<span class="ot">=</span><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="dv">0</span>),<span class="at">ncol=</span><span class="dv">3</span>,<span class="at">byrow=</span><span class="cn">TRUE</span>)</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>B<span class="ot">=</span><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">0.5</span>,<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.1</span>,<span class="dv">1</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.2</span>),<span class="at">ncol=</span><span class="dv">3</span>,<span class="at">byrow=</span><span class="cn">TRUE</span>)</span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a><span class="fu">solve</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   -1    1    1
[2,]    1   -1    1
[3,]    1    1   -1</code></pre>
</div>
</div>
<ol type="1">
<li>Calcula la dimensión de A.</li>
<li>Suma las matrices A y B</li>
<li>Multiplica los elementos de A con sus homólogos en B</li>
<li>Divide los elementos de A por sus homólogos en B.</li>
<li>Multiplica A por B (producto matricial).</li>
<li>Eleva al cubo A.</li>
<li>Resuelve la ecuación Ax=I.</li>
<li>Resuelve la ecuación Ax=b, para b=c(1,2,3), y verifica la ecuación.</li>
<li>Calcula los valores y vectores propios de A. Verifica que <code>vect_p \cdot diag(val_p) \cdot vect_p=A</code></li>
<li>Verifica que la traza de A (suma de la diagonal) es igual a la suma de los valores propios, y que el determinante es igual al producto de estos.</li>
<li>Calcula el rango de A sabiendo que es igual al número de valores propios distintos de cero.</li>
<li>Extrae la matriz triangular inferior de A y también la superior.</li>
<li>Verifica si la matriz A es simétrica.</li>
<li>Suma los valores de A por filas. Y también por columnas.</li>
<li>Sabiendo que el rango de una matriz es igual al rango de su descomposición QR, calcula el rango de A.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>A<span class="sc">+</span>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  0.1  1.0  0.7
[2,]  1.0  0.1  1.5
[3,]  1.0  1.0  0.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a>A<span class="sc">*</span>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,] 0.00 0.25  0.1
[2,] 0.25 0.00  0.5
[3,] 0.25 0.25  0.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>A<span class="sc">/</span>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    0    1  2.5
[2,]    1    0  0.5
[3,]    1    1  0.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>A<span class="sc">%*%</span>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  0.5  0.3  0.6
[2,]  0.3  0.5  0.2
[3,]  0.3  0.3  0.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>A<span class="sc">%*%</span>A<span class="sc">%*%</span>A; <span class="fu">library</span>(matrixcalc); <span class="fu">matrix.power</span>(A,<span class="dv">3</span>) <span class="co">#install.packages("matrixcalc")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]  [,2]  [,3]
[1,] 0.250 0.375 0.375
[2,] 0.375 0.250 0.375
[3,] 0.375 0.375 0.250</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]  [,2]  [,3]
[1,] 0.250 0.375 0.375
[2,] 0.375 0.250 0.375
[3,] 0.375 0.375 0.250</code></pre>
</div>
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="fu">solve</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   -1    1    1
[2,]    1   -1    1
[3,]    1    1   -1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>);x<span class="ot">=</span><span class="fu">solve</span>(A,b); x; x<span class="sc">%*%</span>A; b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 2 0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    2    3</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>sol<span class="ot">=</span><span class="fu">eigen</span>(A);sol; v<span class="ot">=</span>sol<span class="sc">$</span>values; vec<span class="ot">=</span>sol<span class="sc">$</span>vectors; vec <span class="sc">%*%</span> <span class="fu">diag</span>(v) <span class="sc">%*%</span> <span class="fu">t</span>(vec) <span class="sc">-</span> A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>eigen() decomposition
$values
[1]  1.0 -0.5 -0.5

$vectors
          [,1]       [,2]       [,3]
[1,] 0.5773503  0.8164966  0.0000000
[2,] 0.5773503 -0.4082483 -0.7071068
[3,] 0.5773503 -0.4082483  0.7071068</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>              [,1]          [,2]          [,3]
[1,]  1.665335e-16 -4.440892e-16 -2.220446e-16
[2,] -4.440892e-16  2.775558e-17 -1.110223e-16
[3,] -2.220446e-16 -1.110223e-16  2.498002e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">diag</span>(A)); <span class="fu">sum</span>(v); <span class="fu">det</span>(A); <span class="fu">prod</span>(v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.885781e-16</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.25</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>A <span class="sc">%*%</span> vec[<span class="dv">1</span>,]; v[<span class="dv">1</span>]<span class="sc">*</span>vec[<span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          [,1]
[1,] 0.4082483
[2,] 0.2886751
[3,] 0.6969234</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5773503 0.8164966 0.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(v<span class="sc">!=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lower.tri</span>(A)<span class="sc">*</span>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  0.0  0.0    0
[2,]  0.5  0.0    0
[3,]  0.5  0.5    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">upper.tri</span>(A)<span class="sc">*</span>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    0  0.5  0.5
[2,]    0  0.0  0.5
[3,]    0  0.0  0.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a>A;<span class="fu">isSymmetric</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  0.0  0.5  0.5
[2,]  0.5  0.0  0.5
[3,]  0.5  0.5  0.0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(A,<span class="dv">1</span>,sum); <span class="fu">apply</span>(A,<span class="dv">2</span>,sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 1 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">1</span>,]<span class="sc">%*%</span>A[<span class="dv">2</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]
[1,] 0.25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qr</span>(A)<span class="sc">$</span>rank</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
</section>
<section id="funciones" class="level2">
<h2 class="anchored" data-anchor-id="funciones">Funciones</h2>
<p>Para definir una función basta utilizar la sintaxis siguiente:</p>
<pre><code>nombre_funcion = function(argumentos){
  cuerpo
  return(output)
}</code></pre>
<ol type="1">
<li>Crea una función que calcule y devuelva el área de un círculo de radio ‘r’ (que se introduce como argumento). El área ha de estar redondeada a dos decimales. Pruébala.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Área del cuadrado</span></span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a>area_circulo<span class="ot">=</span><span class="cf">function</span>(r){</span>
<span id="cb260-3"><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a>  area<span class="ot">=</span>pi<span class="sc">*</span>r<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb260-4"><a href="#cb260-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">round</span>(area,<span class="dv">2</span>))</span>
<span id="cb260-5"><a href="#cb260-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb260-6"><a href="#cb260-6" aria-hidden="true" tabindex="-1"></a><span class="fu">area_circulo</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 50.27</code></pre>
</div>
</div>
<ol type="1">
<li>Crea una función que simule ‘n’ valores de una distribución Uniforme(a,b), introduciendo también a y b como argumentos, y devuelva una lista con la suma, el valor máximo y el valor mínimo simulados.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a>resume_unif<span class="ot">=</span><span class="cf">function</span>(n,a,b){</span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a>  u<span class="ot">=</span><span class="fu">runif</span>(n,a,b)</span>
<span id="cb262-3"><a href="#cb262-3" aria-hidden="true" tabindex="-1"></a>  suma<span class="ot">=</span><span class="fu">sum</span>(u)</span>
<span id="cb262-4"><a href="#cb262-4" aria-hidden="true" tabindex="-1"></a>  maximo<span class="ot">=</span><span class="fu">max</span>(u)</span>
<span id="cb262-5"><a href="#cb262-5" aria-hidden="true" tabindex="-1"></a>  minimo<span class="ot">=</span><span class="fu">min</span>(u)</span>
<span id="cb262-6"><a href="#cb262-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">suma=</span>suma,<span class="at">max=</span>maximo,<span class="at">min=</span>minimo))</span>
<span id="cb262-7"><a href="#cb262-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb262-8"><a href="#cb262-8" aria-hidden="true" tabindex="-1"></a><span class="fu">resume_unif</span>(<span class="dv">10</span>,<span class="dv">1</span>,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$suma
[1] 13.14732

$max
[1] 1.808188

$min
[1] 1.024794</code></pre>
</div>
</div>
<section id="condiciones" class="level3">
<h3 class="anchored" data-anchor-id="condiciones">Condiciones</h3>
<p>Para incorporar condiciones podemos utilizar:</p>
<ul>
<li><code>ifelse()</code> si queremos ejecutar dos acciones simples en función de si se da o no cierta condición;</li>
<li><code>if(){} else{}</code>, si queremos ejecutar varias acciones cuando se da y cuando no se da cierta condición;</li>
<li><code>if(){} else if{} else{}</code>, cuando se pueden dan varias alternativas en la condición propuesta (no solo verdadero/falso).</li>
</ul>
<ol type="1">
<li>Simula un valor uniforme(0,1). Crea una variable que tome el valor 0 si dicho valor está por debajo de 0.5 (o es igual) y 1 si está por encima. Muestra el valor simulado (redondeado a 2 decimales) y el creado.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a>u<span class="ot">=</span><span class="fu">runif</span>(<span class="dv">1</span>)</span>
<span id="cb264-2"><a href="#cb264-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">ifelse</span>(u<span class="sc">&lt;=</span><span class="fl">0.5</span>,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb264-3"><a href="#cb264-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"Valor simulado:"</span>,<span class="fu">round</span>(u,<span class="dv">2</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Valor simulado: 0.26</code></pre>
</div>
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Valor creado:"</span>,x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Valor creado: 0</code></pre>
</div>
</div>
<ol type="1">
<li>Construye una función llamada ‘tiempo’ que simule un valor de temperatura entre -10º y 45º centígrados y redondéalo a número entero. Muestra en pantalla el mensaje “La temperatura actual es de … grados centígrados”. Si dicha temperatura es inferior a 10º, añade “Hoy hace fresco”, si está entre 10º y 25º añade “Hoy está agradable”, y si está por encima de 25º, añade “Hoy hace calor”.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>tiempo<span class="ot">=</span><span class="cf">function</span>(){</span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>  t<span class="ot">=</span><span class="fu">round</span>(<span class="fu">runif</span>(<span class="dv">1</span>,<span class="sc">-</span><span class="dv">10</span>,<span class="dv">45</span>))</span>
<span id="cb268-3"><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"La temperatura actual es de"</span>,t,<span class="st">"grados centígrados. </span><span class="sc">\n</span><span class="st">"</span>))</span>
<span id="cb268-4"><a href="#cb268-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(t<span class="sc">&lt;</span><span class="dv">10</span>)</span>
<span id="cb268-5"><a href="#cb268-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"Hoy hace fresco"</span>)</span>
<span id="cb268-6"><a href="#cb268-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (t<span class="sc">&lt;</span><span class="dv">25</span>)</span>
<span id="cb268-7"><a href="#cb268-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"Hoy está agradable"</span>)</span>
<span id="cb268-8"><a href="#cb268-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="cb268-9"><a href="#cb268-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"Hoy hace calor"</span>)</span>
<span id="cb268-10"><a href="#cb268-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb268-11"><a href="#cb268-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-12"><a href="#cb268-12" aria-hidden="true" tabindex="-1"></a><span class="fu">tiempo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>La temperatura actual es de 8 grados centígrados. 
Hoy hace fresco</code></pre>
</div>
</div>
<ol type="1">
<li>Construye una función que simule ‘n’ valores ‘u’ de una Un(0,1). Utiliza otro argumento que será un vector ‘v’ con dos números secuenciados entre 0 y 1. Genera ‘n’ valores ‘x’ a partir de ellos de modo que si el valor uniforme correspondiente es menor o igual que v1, ‘x’ tome el valor “1”, si es menor o igual que v2 (y mayor que v1) tome el valor “2” y en otro caso tome el valor “3”. Devuelve 10 valores uniformes ‘u’ y creados ‘x’, para un valor dado de ‘v’, en una matriz de dos columnas convenientemente etiquetadas. Llama a la función ‘simulador_3cat’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>simulador_3cat <span class="ot">=</span> <span class="cf">function</span>(n,v){</span>
<span id="cb270-2"><a href="#cb270-2" aria-hidden="true" tabindex="-1"></a>u<span class="ot">=</span><span class="fu">runif</span>(n)</span>
<span id="cb270-3"><a href="#cb270-3" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">1</span><span class="sc">*</span>(u<span class="sc">&lt;=</span>v[<span class="dv">1</span>])<span class="sc">+</span><span class="dv">2</span><span class="sc">*</span>(u<span class="sc">&gt;</span>v[<span class="dv">1</span>] <span class="sc">&amp;</span> u<span class="sc">&lt;</span>v[<span class="dv">2</span>])<span class="sc">+</span><span class="dv">3</span><span class="sc">*</span>(u<span class="sc">&gt;</span>v[<span class="dv">2</span>])</span>
<span id="cb270-4"><a href="#cb270-4" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(x)</span>
<span id="cb270-5"><a href="#cb270-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb270-6"><a href="#cb270-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb270-7"><a href="#cb270-7" aria-hidden="true" tabindex="-1"></a><span class="fu">simulador_3cat</span>(<span class="dv">10</span>,<span class="fu">c</span>(<span class="fl">0.3</span>,<span class="fl">0.6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 2 1 3 1 1 2 2 3 1</code></pre>
</div>
</div>
</section>
<section id="bucles" class="level3">
<h3 class="anchored" data-anchor-id="bucles">Bucles</h3>
<p>Los bucles se utilizan para ciclar acciones. Existen de dos tipos:</p>
<ul>
<li><code>for(indice in secuencia){ acciones }</code> el índice es el que rige el número de repeticiones/ciclos a realizar;</li>
<li><code>while(condicion){ acciones }</code>, donde es la condición, si es verdadera, la que provoca que se ejecuten las acciones.</li>
</ul>
<p>Además, hay comandos que nos permiten suspender la ejecución de un bucle si se da alguna condición extraordinaria, como <code>break</code>, o pasar a la siguiente iteración, como <code>next</code>.</p>
<ol type="1">
<li>Programa una función llamada <code>quediaeshoy</code> en la que muestres por pantalla, para cada uno de los días de la semana, un mensaje que diga “Hoy es ….” sustituyendo los puntos suspensivos por el día de la semana que corresponda.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>quediaeshoy <span class="ot">=</span> <span class="cf">function</span>(){</span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a>dias_semana<span class="ot">=</span><span class="fu">c</span>(<span class="st">"lunes"</span>,<span class="st">"martes"</span>,<span class="st">"miércoles"</span>,<span class="st">"jueves"</span>,<span class="st">"viernes"</span>,<span class="st">"sábado"</span>,<span class="st">"domingo"</span>)</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(dias <span class="cf">in</span> dias_semana)</span>
<span id="cb272-5"><a href="#cb272-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Hoy es"</span>,dias))</span>
<span id="cb272-6"><a href="#cb272-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb272-7"><a href="#cb272-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-8"><a href="#cb272-8" aria-hidden="true" tabindex="-1"></a><span class="fu">quediaeshoy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Hoy es lunes
 Hoy es martes
 Hoy es miércoles
 Hoy es jueves
 Hoy es viernes
 Hoy es sábado
 Hoy es domingo</code></pre>
</div>
</div>
<ol type="1">
<li>Programa ahora la funcion <code>quediaeshoy_2</code> en la que muestrees al azar un día cualquiera del mes (entre 1 y 30), lo muestres en pantalla (con el mensaje “Por azar llegaremos hasta el día …”), empieces a anunciar el día que es desde el día 1 (con el mensaje “Hoy es día …”), y lo sigas haciendo hasta llegar al día muestreado.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>quediaeshoy_2 <span class="ot">=</span> <span class="cf">function</span>(){</span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a>dias_mes<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb274-3"><a href="#cb274-3" aria-hidden="true" tabindex="-1"></a>dia <span class="ot">=</span> <span class="fu">sample</span>(dias_mes,<span class="dv">1</span>)</span>
<span id="cb274-4"><a href="#cb274-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"Por azar llegaremos hasta el día"</span>,dia))</span>
<span id="cb274-5"><a href="#cb274-5" aria-hidden="true" tabindex="-1"></a>dia_hoy <span class="ot">=</span> <span class="fl">0.</span> <span class="co"># inicialización</span></span>
<span id="cb274-6"><a href="#cb274-6" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(dia_hoy <span class="sc">&lt;</span> dia){</span>
<span id="cb274-7"><a href="#cb274-7" aria-hidden="true" tabindex="-1"></a>  dia_hoy<span class="ot">=</span>dia_hoy<span class="fl">+1.</span> <span class="co"># corre el contador</span></span>
<span id="cb274-8"><a href="#cb274-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Hoy es"</span>,dia_hoy))</span>
<span id="cb274-9"><a href="#cb274-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb274-10"><a href="#cb274-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb274-11"><a href="#cb274-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb274-12"><a href="#cb274-12" aria-hidden="true" tabindex="-1"></a><span class="fu">quediaeshoy_2</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Por azar llegaremos hasta el día 15
 Hoy es 1
 Hoy es 2
 Hoy es 3
 Hoy es 4
 Hoy es 5
 Hoy es 6
 Hoy es 7
 Hoy es 8
 Hoy es 9
 Hoy es 10
 Hoy es 11
 Hoy es 12
 Hoy es 13
 Hoy es 14
 Hoy es 15</code></pre>
</div>
</div>
<ol type="1">
<li>Reutiliza la función anterior, ahora añadiendo una condición extra: si llegas al día 10 para anunciarlo, inmediatamente dejas de hacer avanzar los días. Será la función <code>quediaeshoy_3</code>. Verifica que funciona correctamente simulando las veces que haga falta.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb276"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a>quediaeshoy_3 <span class="ot">=</span> <span class="cf">function</span>(){</span>
<span id="cb276-2"><a href="#cb276-2" aria-hidden="true" tabindex="-1"></a>dias_mes<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb276-3"><a href="#cb276-3" aria-hidden="true" tabindex="-1"></a>dia <span class="ot">=</span> <span class="fu">sample</span>(dias_mes,<span class="dv">1</span>)</span>
<span id="cb276-4"><a href="#cb276-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"Por azar llegaremos hasta el día"</span>,dia,<span class="st">"si es menor a 10."</span>))</span>
<span id="cb276-5"><a href="#cb276-5" aria-hidden="true" tabindex="-1"></a>dia_hoy <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb276-6"><a href="#cb276-6" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(dia_hoy <span class="sc">&lt;</span> dia){</span>
<span id="cb276-7"><a href="#cb276-7" aria-hidden="true" tabindex="-1"></a>  dia_hoy<span class="ot">=</span>dia_hoy<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb276-8"><a href="#cb276-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(dia_hoy<span class="sc">==</span><span class="dv">10</span>){</span>
<span id="cb276-9"><a href="#cb276-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb276-10"><a href="#cb276-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb276-11"><a href="#cb276-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>{</span>
<span id="cb276-12"><a href="#cb276-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Hoy es"</span>,dia_hoy))</span>
<span id="cb276-13"><a href="#cb276-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb276-14"><a href="#cb276-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb276-15"><a href="#cb276-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb276-16"><a href="#cb276-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb276-17"><a href="#cb276-17" aria-hidden="true" tabindex="-1"></a><span class="fu">quediaeshoy_3</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Por azar llegaremos hasta el día 2 si es menor a 10.
 Hoy es 1
 Hoy es 2</code></pre>
</div>
</div>
<ol type="1">
<li>Reutiliza las funciones previas para mostrar en qué día del mes estamos, hasta llegar a un día muestreado al azar, y salte el día 10 si lo encuentra en el camino. Será la función <code>quediaeshoy_4</code>. Verifica que funciona correctamente simulando las veces que haga falta.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>quediaeshoy_4 <span class="ot">=</span> <span class="cf">function</span>(){</span>
<span id="cb278-2"><a href="#cb278-2" aria-hidden="true" tabindex="-1"></a>dias_mes<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb278-3"><a href="#cb278-3" aria-hidden="true" tabindex="-1"></a>dia <span class="ot">=</span> <span class="fu">sample</span>(dias_mes,<span class="dv">1</span>)</span>
<span id="cb278-4"><a href="#cb278-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"Por azar llegaremos hasta el día"</span>,dia,<span class="st">"saltando el 10."</span>))</span>
<span id="cb278-5"><a href="#cb278-5" aria-hidden="true" tabindex="-1"></a>dia_hoy<span class="ot">=</span><span class="dv">0</span></span>
<span id="cb278-6"><a href="#cb278-6" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(dia_hoy <span class="sc">&lt;</span> dia){</span>
<span id="cb278-7"><a href="#cb278-7" aria-hidden="true" tabindex="-1"></a>  dia_hoy<span class="ot">=</span>dia_hoy<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb278-8"><a href="#cb278-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(dia_hoy<span class="sc">==</span><span class="dv">10</span>) <span class="cf">next</span></span>
<span id="cb278-9"><a href="#cb278-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>{</span>
<span id="cb278-10"><a href="#cb278-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">"</span><span class="sc">\n</span><span class="st"> Hoy es"</span>,dia_hoy))</span>
<span id="cb278-11"><a href="#cb278-11" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb278-12"><a href="#cb278-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb278-13"><a href="#cb278-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb278-14"><a href="#cb278-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-15"><a href="#cb278-15" aria-hidden="true" tabindex="-1"></a><span class="fu">quediaeshoy_4</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Por azar llegaremos hasta el día 5 saltando el 10.
 Hoy es 1
 Hoy es 2
 Hoy es 3
 Hoy es 4
 Hoy es 5</code></pre>
</div>
</div>
</section>
<section id="listas-1" class="level3">
<h3 class="anchored" data-anchor-id="listas-1">Listas</h3>
<p>Cuando programamos una función y la queremos aplicar a cada uno de los elementos de una lista, tenemos las funciones <code>lapply</code> (que devuelve los resultados en una lista) y <code>sapply</code> (que devuelve un vector).</p>
<ol type="1">
<li>Calcula la media y la suma de los elementos en la lista l2 conformada por dos vectores numéricos <code>a1=1:6</code>, <code>a2=10:0</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>l2<span class="ot">=</span><span class="fu">list</span>(<span class="at">a1=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">a2=</span><span class="dv">10</span><span class="sc">:</span><span class="dv">0</span>)</span>
<span id="cb280-2"><a href="#cb280-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(l2,mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a1
[1] 3.5

$a2
[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(l2,sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>a1 a2 
21 55 </code></pre>
</div>
</div>
</section>
<section id="matrices-y-data.frames" class="level3">
<h3 class="anchored" data-anchor-id="matrices-y-data.frames">Matrices y data.frames</h3>
<p>Cuando programamos una función y la queremos aplicar a cada una de las filas o columnas de una matriz, un array o un data.frame, tenemos las funciones <code>apply</code> (que puede aplicar a filas/columnas), y <code>lapply</code> (que solo aplica a columnas).</p>
<ol type="1">
<li>Calcula el valor medio de las columnas de <code>mydata_df</code>, excluyendo los valores faltantes (prueba también a no excluirlos para ver el resultado). Utiliza <code>colMeans</code>.</li>
<li>Haz la misma operación con <code>apply</code>, donde los argumentos - columnas por ejemplo, pueden tener distinta dimensión.</li>
<li>Haz la misma operación con <code>lapply</code> (que solo funciona para columnas) y verifica que devuelve una lista.</li>
<li>Transforma a vector el resultado que obtuviste al aplicar <code>lapply</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colMeans</span>(mydata_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ws  wd nox 
 NA  NA  NA </code></pre>
</div>
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colMeans</span>(mydata_df,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        ws         wd        nox 
  4.488703 200.027100 178.798558 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(mydata_df,<span class="dv">2</span>,mean,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        ws         wd        nox 
  4.488703 200.027100 178.798558 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(mydata_df,<span class="dv">2</span>,mean,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        ws         wd        nox 
  4.488703 200.027100 178.798558 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(mydata_df,mean,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$ws
[1] 4.488703

$wd
[1] 200.0271

$nox
[1] 178.7986</code></pre>
</div>
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>(<span class="fu">lapply</span>(mydata_df,mean,<span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        ws         wd        nox 
  4.488703 200.027100 178.798558 </code></pre>
</div>
</div>
<ol type="1">
<li>En el data.frame <code>Loblolly</code>, utiliza la variable <code>Seed</code> para calcular la media de las restantes variables en cada una de las categorías.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(mydata_df,mean,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$ws
[1] 4.488703

$wd
[1] 200.0271

$nox
[1] 178.7986</code></pre>
</div>
</div>
</section>
<section id="tibbles-y-pipes" class="level3">
<h3 class="anchored" data-anchor-id="tibbles-y-pipes">Tibbles y pipes</h3>
<p>En tibbles la aplicación de funciones se suele hacer a través de ‘pipes’ (librería <code>dplyr</code> en <code>tidyverse</code>).</p>
<ol type="1">
<li>Calcula cuántos datos faltantes tienes en cada columna del tibble <code>mydata_sel</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mydata_sel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       ws               wd           nox        
 Min.   : 0.000   Min.   :  0   Min.   :   0.0  
 1st Qu.: 2.600   1st Qu.:140   1st Qu.:  82.0  
 Median : 4.100   Median :210   Median : 153.0  
 Mean   : 4.489   Mean   :200   Mean   : 178.8  
 3rd Qu.: 5.760   3rd Qu.:270   3rd Qu.: 249.0  
 Max.   :20.160   Max.   :360   Max.   :1144.0  
 NA's   :632      NA's   :219   NA's   :2423    </code></pre>
</div>
</div>
<ol type="1">
<li>Calcula el promedio de las columnas de <code>mydata_sel</code> sin considerar los valores faltantes.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>mydata_sel <span class="sc">%&gt;%</span></span>
<span id="cb300-2"><a href="#cb300-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">funs</span>(<span class="fu">mean</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `funs()` was deprecated in dplyr 0.8.0.
ℹ Please use a list of either functions or lambdas:

# Simple named list: list(mean = mean, median = median)

# Auto named with `tibble::lst()`: tibble::lst(mean, median)

# Using lambdas list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
     ws    wd   nox
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  4.49  200.  179.</code></pre>
</div>
</div>
<ol type="1">
<li>Guarda en un objeto llamado <code>faltantes</code> el número de datos faltantes en cada columna.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a>faltantes <span class="ot">=</span> mydata_sel <span class="sc">%&gt;%</span></span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">funs</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(.))))</span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a>faltantes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
     ws    wd   nox
  &lt;int&gt; &lt;int&gt; &lt;int&gt;
1   632   219  2423</code></pre>
</div>
</div>
<ol type="1">
<li>Elimina los registros (filas) con algún dato faltante y guarda el nuevo objeto sin faltantes en <code>mydata_sel_sinna</code>. Verifica que ya no hay valores faltantes.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb305"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a>mydata_sel_sinna<span class="ot">=</span>mydata_sel <span class="sc">%&gt;%</span> </span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb305-3"><a href="#cb305-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mydata_sel_sinna)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       ws               wd             nox        
 Min.   : 0.000   Min.   :  0.0   Min.   :   0.0  
 1st Qu.: 2.600   1st Qu.:140.0   1st Qu.:  82.0  
 Median : 4.100   Median :210.0   Median : 153.0  
 Mean   : 4.481   Mean   :199.8   Mean   : 178.7  
 3rd Qu.: 5.760   3rd Qu.:270.0   3rd Qu.: 249.0  
 Max.   :20.160   Max.   :360.0   Max.   :1092.0  </code></pre>
</div>
</div>
<ol type="1">
<li>Sustituye los valores faltantes de <code>mydata_sel</code> con el promedio de valores en la columna correspondiente (primero has de cambiar a <code>double</code> las columnas <code>integer</code>). Llámalo <code>mydata_sel_rep</code>. Verifica que ya no hay valores faltantes.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a>mydata_sel_rep <span class="ot">=</span> mydata_sel <span class="sc">%&gt;%</span></span>
<span id="cb307-2"><a href="#cb307-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(is.integer,as.double) <span class="sc">%&gt;%</span></span>
<span id="cb307-3"><a href="#cb307-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">as.list</span>(<span class="fu">colMeans</span>(.,<span class="at">na.rm=</span><span class="cn">TRUE</span>)))</span>
<span id="cb307-4"><a href="#cb307-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mydata_sel_rep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       ws               wd           nox        
 Min.   : 0.000   Min.   :  0   Min.   :   0.0  
 1st Qu.: 2.610   1st Qu.:140   1st Qu.:  85.0  
 Median : 4.100   Median :210   Median : 160.0  
 Mean   : 4.489   Mean   :200   Mean   : 178.8  
 3rd Qu.: 5.760   3rd Qu.:270   3rd Qu.: 244.0  
 Max.   :20.160   Max.   :360   Max.   :1144.0  </code></pre>
</div>
</div>
</section>
</section>
<section id="referencias" class="level2">
<h2 class="anchored" data-anchor-id="referencias">Referencias</h2>
<p><a href="https://bookdown.org/ddiannae/curso-rdata/">Curso: R para análisis de datos</a></p>
<p><a href="https://bookdown.org/jboscomendoza/r-principiantes4/introduccion-que-es-r-y-para-que-es-usado.html">R para principiantes</a></p>
<p><a href="http://adv-r.had.co.nz/Functions.html">Functions</a></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>